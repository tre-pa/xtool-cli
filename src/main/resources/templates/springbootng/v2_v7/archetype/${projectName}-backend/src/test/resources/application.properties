#
# WEB CONFIGS 
#
server.servlet.context-path=/corvo
server.port=${SERVER_PORT:8080}
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false

#
# DATABASE CONFIGS
#
spring.datasource.url=${DB_URL:jdbc:oracle:thin:@10.13.0.52:1521:adm}
spring.datasource.driver-class-name=${DB_DRIVER:oracle.jdbc.driver.OracleDriver}
spring.datasource.username=${DB_USERNAME:corvo}
spring.datasource.password=${DB_PASSWORD:c0rv0}
spring.jpa.hibernate.ddl-auto=update

#spring.datasource.sqlScriptEncoding=UTF-8
#spring.h2.console.path=/h2
#spring.h2.console.enabled=true
spring.jpa.properties.hibernate.format_sql=true
#spring.jpa.hibernate.ddl-auto=update
spring.jpa.hibernate.use-new-id-generator-mappings=true

spring.datasource.initialization-mode=always
spring.datasource.continue-on-error=true
spring.jackson.mapper.default-view-inclusion=true

#
# LOG CONFIGS
# 
logging.level.br.jus=${LOG_APP:DEBUG}
logging.level.org.hibernate.SQL=${LOG_SQL:DEBUG}
logging.level.org.springframework.jdbc.core.JdbcTemplate=${LOG_JDBC:debug}

#
# FLYWAY CONFIGS
# Devido a incompatibilidade com o Oracle 10c é necessário Comentar os códigos do flayway no aap.properties
#spring.flyway.baseline-version=0
#spring.flyway.baseline-on-migrate=true


#
#KEYCLOAK
#
keycloak.auth-server-url=${KEYCLOAK_URL:http://localhost:8085/auth}
keycloak.realm=${KEYCLOAK_REALM:TRE-PA}
keycloak.resource=${KEYCLOAK_CLIENT_ID:corvo-service}
keycloak.credentials.secret=${KEYCLOAK_SECRET:863b7f77-18b7-44a3-9c65-245f35a9a40c}
keycloak.ssl-required=external
keycloak.use-resource-role-mappings=true
keycloak.bearer-only=true

keycloak.policy-enforcer-config.paths[0].path=/h2/*
keycloak.policy-enforcer-config.paths[0].enforcement-mode=DISABLED
keycloak.securityConstraints[0].authRoles[0]=USER
keycloak.securityConstraints[0].securityCollections[0].name=protected
keycloak.securityConstraints[0].securityCollections[0].patterns[0]=/api/*
keycloak.policy-enforcer-config.enforcement-mode=ENFORCING
keycloak.policy-enforcer-config.http-method-as-scope=true



