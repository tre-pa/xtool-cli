package ${rootPackage.name}.security.client;

import org.keycloak.representations.idm.ClientRepresentation;
import org.springframework.core.annotation.Order;
import org.springframework.stereotype.Component;

import com.google.common.collect.Lists;

import br.jus.tre_pa.jsecurity.base.AbstractKcClient;

/**
 * Classe responsável pelo registro da aplicação frontend no Keycloak.
 * 
 * @author jcruz
 *
 */
@Component
@Order(2)
public class FrontendClient extends AbstractKcClient {

	@Override
	public void configure(ClientRepresentation representation) {
		representation.setName(getKcProperties().getClientId().replace("backend", "frontend"));
		representation.setClientId(getKcProperties().getClientId().replace("backend", "frontend"));
		representation.setEnabled(true);
		representation.setWebOrigins(Lists.newArrayList("*"));
		representation.setRedirectUris(getKcProperties().getRedirectUris());
		representation.setBaseUrl(getKcProperties().getBaseUrl());
		representation.setPublicClient(true);
	}

}
